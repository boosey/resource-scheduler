
# Build Project, Docker Image, and Push to Docker Hub
# then create the knative service
mvn clean install \
&& docker build -f src/main/docker/Dockerfile.jvm -t docker.io/boosey/reservation-command-event-processor . \
&& docker push docker.io/boosey/reservation-command-event-processor \
&& kn service delete reservation-command-event-processor \
&& kn service create reservation-command-event-processor -n resource-scheduler --image docker.io/boosey/reservation-command-event-processor

# Create Triggers
kubectl apply -n resource-scheduler -f src/main/k8s/Triggers.yaml
